<!DOCTYPE html>
<html>
<head>
<title>Higher & College Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#0f172a,#1e293b);display:flex;justify-content:center;align-items:center;min-height:100vh;color:white;}
.card{background:#1e293b;padding:30px;border-radius:20px;width:95%;max-width:700px;}
h2{text-align:center;color:#22d3ee;}
.question{margin:20px 0;padding:15px;background:#0f172a;border-radius:10px;}
button{width:100%;padding:12px;margin-top:10px;background:#334155;border:none;border-radius:8px;color:white;cursor:pointer;}
button:hover{background:#22d3ee;color:black;}
.progress{height:8px;background:#334155;border-radius:6px;overflow:hidden;margin-bottom:15px;}
.bar{height:100%;width:0%;background:#22d3ee;transition:0.3s;}
</style>
</head>
<body>

<div class="card">
<h2>Higher Secondary & College Quiz</h2>
<div class="progress"><div class="bar" id="bar"></div></div>
<div class="question" id="questionText"></div>
<div id="options"></div>
</div>

<script>

const quizData=[
{q:"Derivative of x³?",a:["3x²","x²","x³","3x"],c:0},
{q:"Integration of 2x?",a:["x² + C","2x²","x + C","None"],c:0},
{q:"Newton's Second Law?",a:["F=ma","E=mc²","V=IR","P=IV"],c:0},
{q:"Einstein's equation?",a:["F=ma","E=mc²","V=IR","P=IV"],c:1},
{q:"Ohm's Law?",a:["V=IR","F=ma","PV=nRT","E=hf"],c:0},
{q:"Ideal Gas Law?",a:["PV=nRT","F=ma","E=hf","W=Fd"],c:0},
{q:"Derivative of sinx?",a:["cosx","-cosx","sinx","-sinx"],c:0},
{q:"Limit of sinx/x?",a:["1","0","∞","-1"],c:0},
{q:"Value of g?",a:["9.8","8","10","7"],c:0},
{q:"Integration of 1/x?",a:["ln|x|+C","x","1","x²"],c:0}
];

let index=0;
let score=0;

function loadQuestion(){

if(index>=quizData.length){

let percent=((score/10)*100).toFixed(1);

let tests=parseInt(localStorage.getItem("ml_tests_taken")||"0");
let totalScore=parseInt(localStorage.getItem("ml_total_score")||"0");
let totalQ=parseInt(localStorage.getItem("ml_total_questions")||"0");

let msg="";

if(percent>=80){
tests++; totalScore+=score; totalQ+=10;
localStorage.setItem("ml_tests_taken",tests);
localStorage.setItem("ml_total_score",totalScore);
localStorage.setItem("ml_total_questions",totalQ);
msg="<p style='color:#10b981'>✔ Counted toward certificate</p>";
}else{
msg="<p style='color:#ef4444'>❌ Minimum 80% required</p>";
}

document.querySelector(".card").innerHTML=`
<h2>Quiz Complete</h2>
<p>Score: ${score}/10</p>
<p>Percentage: ${percent}%</p>
${msg}
<button onclick="location.reload()">Play Again</button>
<button onclick="window.location.href='certificate.html'">Check Certificate</button>
`;

return;
}

document.getElementById("bar").style.width=(index/10*100)+"%";
document.getElementById("questionText").innerText=quizData[index].q;

let optDiv=document.getElementById("options");
optDiv.innerHTML="";

quizData[index].a.forEach((opt,i)=>{
let btn=document.createElement("button");
btn.innerText=opt;
btn.onclick=()=>{
if(i===quizData[index].c) score++;
index++;
loadQuestion();
};
optDiv.appendChild(btn);
});
}

loadQuestion();

</script>
</body>
</html>
