<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MentorLoop EDU | Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  /* ===== RESET ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Segoe UI', sans-serif;
}

/* ===== BODY ===== */
body {
  background: linear-gradient(135deg, #0f172a, #1e293b);
  color: #e2e8f0;
  min-height: 100vh;
}

/* ===== HEADER ===== */
header {
  background: #111827;
  padding: 20px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 6px 20px rgba(0,0,0,0.4);
}

header h1 {
  font-size: 1.5rem;
  font-weight: 600;
  background: linear-gradient(90deg, #22d3ee, #10b981);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

header a {
  text-decoration: none;
  color: #94a3b8;
  font-weight: 600;
  transition: 0.3s;
}

header a:hover {
  color: #22d3ee;
}

/* ===== CONTAINER ===== */
.container {
  max-width: 1200px;
  margin: auto;
  padding: 40px 25px;
}

/* ===== GRID ===== */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

/* ===== CARD ===== */
.card {
  background: #1e293b;
  padding: 25px;
  border-radius: 18px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.5);
  transition: 0.3s ease;
  position: relative;
  overflow: hidden;
}

.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 25px 50px rgba(0,0,0,0.7);
}

/* subtle glow */
.card::before {
  content: "";
  position: absolute;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle at top left, rgba(34,211,238,0.15), transparent);
  top: -50%;
  left: -50%;
  pointer-events: none;
}

/* ===== HEADINGS ===== */
h2 {
  margin-bottom: 15px;
  font-size: 18px;
  color: #22d3ee;
}

/* ===== PROFILE TEXT ===== */
.card p {
  margin-bottom: 8px;
  font-size: 14px;
  color: #cbd5e1;
}

/* ===== BUTTONS ===== */
.btn {
  display: block;
  margin-top: 12px;
  padding: 12px;
  width: 100%;
  border-radius: 12px;
  text-align: center;
  text-decoration: none;
  font-weight: 600;
  transition: 0.3s ease;
  background: linear-gradient(90deg, #10b981, #22d3ee);
  color: white;
}

.btn:hover {
  transform: scale(1.05);
  opacity: 0.9;
}

/* ===== SPECIAL BUTTON COLORS ===== */
.btn.report {
  background: linear-gradient(90deg, #ef4444, #dc2626);
}

/* ===== BADGES ===== */
.badge {
  display: inline-block;
  padding: 8px 14px;
  margin: 6px 6px 0 0;
  border-radius: 999px;
  font-weight: 600;
  font-size: 0.8rem;
  background: #334155;
  color: #94a3b8;
  transition: 0.3s;
}

.badge.unlocked {
  background: linear-gradient(90deg, #10b981, #22d3ee);
  color: white;
  box-shadow: 0 0 12px rgba(34,211,238,0.6);
}

/* ===== IFRAME ===== */
iframe {
  border: none;
  border-radius: 14px;
  margin-top: 10px;
}

/* ===== SMALL TEXT ===== */
.small {
  font-size: 13px;
  color: #94a3b8;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 600px) {
  header h1 {
    font-size: 1.1rem;
  }
}
</style>
</head>

<body>

<header>
  <h1>MentorLoop EDU Dashboard</h1>
  <a href="index.html">Logout</a>
</header>

<div class="container">
  <div class="grid">

    <!-- PROFILE -->
    <div class="card">
      <h2>Your Profile</h2>
      <p><strong>Name:</strong> <span id="userName"></span></p>
      <p><strong>Role:</strong> Student</p>
      <p><strong>Points:</strong> <span id="points">0</span></p>
      <div class="card">
  <h2>üèÖ Your Badges</h2>
  <div id="badges"></div>
</div>
    <!-- ACTIONS -->
    <div class="card">
      <h2>Actions</h2>

      <a href="ask-doubt.html" class="btn">
        Ask a Doubt
      </a>
      
      <a href="questions.html" class="btn" style="background:#22c55e;">
  ‚úçÔ∏è Answer Questions
</a>

<a href="games.html" class="btn" style="background:#10b981;">
  üéÆ Play fun quizzes
</a>
      
    <a href="ai.html" class="btn" style="background:#10b981;">
  ü§ñ Meet EDUBots
</a>  
 <a href="world-explorer.html" class="btn" style="background:#10b981;">
  üåç Learn Geography
</a>
      
      <a href="blog.html" class="btn" style="background:#22c55e;">
  Know about us
</a>
      <!-- REPORT BUTTON -->
      <a href="fair-play.html" class="btn report">
        üö© Report Inappropriate Content
        <!-- Answers Section -->
<div class="card">
  <h2>üìò Community Answers</h2>
  <p class="small">
    Browse answers submitted by mentors and students.
    <div class="card">
  </p>
      
<div id="questions"></div>
  <iframe
    src="https://docs.google.com/spreadsheets/d/e/2PACX-1vReE-w_AKX-s_OaY5T66qHHjuijW7f9SXqF-Pa6f_4xsuV0Q0atyQCwTqRx2vvhfUwF8ZRBfL9yUeX_/pubhtml"
    width="100%"
    height="500"
    frameborder="0"
    style="border-radius:10px;">
  </iframe>
      </a>
    </div>
  </div>
</div>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const supabase =window.supabase.createClient(
  "https://usgsmkpqxdgvtepmnugh.supabase.co",
  "usgsmkpqxdgvtepmnugh"
);

</script>
<script>
document.addEventListener("DOMContentLoaded", async () => {

  const { data, error } = await supabase
    .from("questions")
    .select("*");

  if (error) {
    alert("Error loading questions: " + error.message);
    return;
  }

  const box = document.getElementById("questions");

  if (!box) {
    alert("DIV with id='questions' not found");
    return;
  }

  if (data.length === 0) {
    box.innerHTML = "<p>Answers:</p>";
    return;
  }

  box.innerHTML = "";

  data.forEach(q => {
    const div = document.createElement("div");
    div.style.padding = "10px";
    div.style.borderBottom = "1px solid #ddd";

    div.innerHTML = `
      <b>${q.subject}</b><br>
      ${q.question}<br>
      <small>Asked by: ${q.student_name}</small>
    `;

    box.appendChild(div);
  });

});
</script>
<script>
// Load points
let points = localStorage.getItem("ml_points");
if (!points) {
  points = 0;
  localStorage.setItem("ml_points", points);
}

document.getElementById("points").innerText = points;

// Function to add points
function addPoints(value) {
  let current = parseInt(localStorage.getItem("ml_points"));
  current += value;
  localStorage.setItem("ml_points", current);
  document.getElementById("points").innerText = current;
}
</script>

<script>
console.log("Supabase client:", supabase);
</script>
  <script>
function renderBadges() {
  const points = parseInt(localStorage.getItem("ml_points") || "0");

  const badgeList = [
    { name: "ü§î Curious Starter", min: 110 },
    { name: "üí° Active Learner", min: 200 },
    { name: "üß† Knowledge Helper", min: 540 },
    { name: "üëë Mentor Champ", min: 1000 }
  ];

  const box = document.getElementById("badges");
  box.innerHTML = "";

  badgeList.forEach(badge => {
    const span = document.createElement("span");
    span.className = "badge";

    if (points >= badge.min) {
      span.classList.add("unlocked");
    }

    span.textContent = badge.name;
    box.appendChild(span);
  });
}

// Call it once when dashboard loads
renderBadges();
</script>
<script>
function loadQuestions() {
  const questions = JSON.parse(localStorage.getItem("ml_questions") || "[]");

  const box = document.getElementById("questions");

  if (questions.length === 0) {
    box.innerHTML = "<p>Answers:</p>";
    return;
  }

  box.innerHTML = "";

  questions.reverse().forEach(q => {
    const div = document.createElement("div");
    div.style.padding = "10px";
    div.style.borderBottom = "1px solid #eee";

    div.innerHTML = `
      <strong>${q.subject}</strong><br>
      ${q.question}<br>
      <small>Asked by: ${q.name}</small>
    `;

    box.appendChild(div);
  });
}

loadQuestions();
</script>
<script>
function loadAcademicStats() {

  const doubts = JSON.parse(localStorage.getItem("ml_questions",value) || "[]");
  const answers = JSON.parse(localStorage.getItem("ml_answers") || "[]");
  const points = parseInt(localStorage.getItem("ml_points") || "0");

  document.getElementById("totalDoubts").innerText = doubts.length;
  document.getElementById("totalAnswers").innerText = answers.length;
  document.getElementById("points").innerText = points;

  // Unique subjects
  const subjects = [...new Set(doubts.map(q => q.subject))];
  document.getElementById("subjectsList").innerText =
    subjects.length ? subjects.join(", ") : "No subjects yet";
}

loadAcademicStats();
</script>
<script>
document.getElementById("userName").innerText =
  localStorage.getItem("ml_user_name") || "Learner";

document.getElementById("userRole").innerText =
  localStorage.getItem("ml_user_role") || "Student";
</script>
</body>
</html>









































