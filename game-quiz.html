<!DOCTYPE html>
<html>
<head>
  <title>Quiz Sprint | MentorLoop EDU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: #e2e8f0;
    }
    .card {
      background: #1e293b;
      padding: 30px;
      border-radius: 16px;
      width: 95%;
      max-width: 600px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.6);
    }
    h1 { color:#22d3ee; }
    button {
      width:100%;
      padding:12px;
      margin-top:10px;
      background:#334155;
      color:white;
      border:none;
      border-radius:8px;
      cursor:pointer;
    }
    button:hover { background:#10b981; }
  </style>
</head>

<body>
<div class="card">
  <h1>ðŸ§  Quiz Sprint</h1>
  <p id="question"></p>
  <div id="options"></div>
  <p><strong>Score:</strong> <span id="score">0</span></p>
</div>

<script>

function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function randomInt(min,max){
  return Math.floor(Math.random()*(max-min+1))+min;
}

const questionBank=[];
const ops=["+","-","*","/"];

for(let i=0;i<100;i++){
  let a=randomInt(5,50);
  let b=randomInt(2,20);
  let op=ops[randomInt(0,3)];
  let correct;

  if(op==="+") correct=a+b;
  if(op==="-") correct=a-b;
  if(op==="*") correct=a*b;
  if(op==="/"){
    correct=randomInt(2,20);
    b=randomInt(2,10);
    a=correct*b;
  }

  let options=[correct];
  while(options.length<3){
    let wrong=correct+randomInt(-15,15);
    if(!options.includes(wrong)) options.push(wrong);
  }

  options=shuffle(options);

  questionBank.push({
    q:`What is ${a} ${op} ${b}?`,
    a:options,
    c:options.indexOf(correct)
  });
}

let questions=shuffle([...questionBank]).slice(0,10);
let index=0;
let score=0;

function loadQuestion(){

  if(index>=questions.length){

    let percent=Math.round((score/questions.length)*100);

    // ðŸ”¥ DAILY LOGIC â€” GUARANTEED
    if(percent>=80){

      const today=new Date().toDateString();

      if(localStorage.getItem("quizDailyDate")!==today){

        let pts=parseInt(localStorage.getItem("points")||0);
        pts+=5;
        localStorage.setItem("points",pts);

        localStorage.setItem("quizDailyDate",today);
      }
    }

    document.querySelector(".card").innerHTML=
      `<h1>ðŸŽ‰ Quiz Complete!</h1>
       <p>Your score: <strong>${score}/${questions.length}</strong></p>
       <p>Percentage: <strong>${percent}%</strong></p>
       <button onclick="location.reload()">Play Again</button>`;

    return;
  }

  const q=questions[index];
  document.getElementById("question").textContent=q.q;

  const options=document.getElementById("options");
  options.innerHTML="";

  q.a.forEach((opt,i)=>{
    const btn=document.createElement("button");
    btn.textContent=opt;
    btn.onclick=()=>{
      if(i===q.c) score++;
      index++;
      loadQuestion();
    };
    options.appendChild(btn);
  });

  document.getElementById("score").textContent=score;
}

loadQuestion();

</script>
</body>
</html>
